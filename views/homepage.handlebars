<div class="container mt-4">
    <div class="row justify-content-center">
        {{#each blogs as |blog|}}
            <div class="col-12 mb-4">
                <div class="card-custom">
                    <div class="card-body">
                        <h5 class="card-title">
                            <a href="/blog/{{blog.id}}" class="blog-title-link">{{blog.title}}
                            <i class="fas fa-comments"></i>
                            </a>
                        </h5>
                        <p class="card-text">{{blog.description}}</p>
                        <p class="card-text">
                            <small class="text-muted">Posted by {{blog.user.username}} on {{format_date blog.date_created}}</small>
                        </p>

                        
                        {{#if blog.comments}}
                        <button class="btn btn-info" type="button" data-bs-toggle="collapse" data-bs-target="#commentsCollapse{{blog.id}}" aria-expanded="false" aria-controls="commentsCollapse">
                            Comments
                        </button>
                        
                        
                        <div class="collapse comments-section" id="commentsCollapse{{blog.id}}">
                            {{#each blog.comments as |comment|}}
                            <div class="comment">
                                <p class="comment-text">{{comment.comment_description}}</p>
                                <p class="comment-meta">
                                    <small class="text-muted">Comment by {{comment.user.username}} on {{format_date comment.date_created}}</small>
                                </p>
                            </div>
                            {{/each}}
                        </div>
                        {{/if}}
                    </div>
                </div>
            </div>
        {{else}}
            <p>No blogs found.</p>
        {{/each}}
    </div>
</div>

